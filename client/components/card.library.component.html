<h1>Card Library 
    <button (click)="changAvailFilter()" class="btn" [class.btn-default]="!filter.hideAvailable" [class.btn-warning]="filter.hideAvailable"> {{filter.hideAvailable ? "Show" : "Hide"}} available cards</button>
</h1>
<spinner *ngIf="loading"></spinner>
<div *ngIf="!loading" class="card-library">
    
    <h2>Statistics</h2>
    <button (click)="statsCollapsed = !statsCollapsed" class="btn btn-default"> {{statsCollapsed ? "Show" : "Hide"}} stats</button>
    <div class="card-stats" *ngIf="!statsCollapsed">
        <h3>Overal:</h3>
        <ul>
            <li>total: {{info.stats.weapon[0] +info.stats.minion[0]+info.stats.ability[0]}} out of {{info.stats.weapon[1]+info.stats.minion[1]+info.stats.ability[1]}}</li>
            <li>weapons: {{info.stats.weapon[0]}}/{{info.stats.weapon[1]}}</li>
            <li>minions: {{info.stats.minion[0]}}/{{info.stats.minion[1]}}</li>
            <li>abilities: {{info.stats.ability[0]}}/{{info.stats.ability[1]}}</li>
        </ul>
        <h3>Rarity:</h3>
        <ul>
            <li *ngFor="let data of enumerate(rarity)" ngClass="{{'rarity-'+data.name}}"><span class="rarity-title">{{data.name}}</span>: {{data.count}}/{{data.total}}</li>
        </ul>
        <h3>Class cards:</h3>
        <ul>
            <li *ngFor="let data of enumerate(classes)">{{data.name}}: {{data.count}}/{{data.total}}</li>
        </ul>
    </div>

    <div *ngFor="let group of info.groups">
        <h2 class="card-group-name">{{group.name}}</h2>
        <button (click)="group.collapsed = !group.collapsed" class="btn btn-default"> {{group.collapsed ? "Show" : "Hide"}} cards</button>
        <div class="card-details" *ngIf="!group.collapsed">
            <card *ngFor="let card of group.cards | cardpipe: filter" [card]="card"></card>
        </div>
        <hr/>
    </div>
</div>